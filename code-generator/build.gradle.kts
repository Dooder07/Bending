plugins {
    application
    id("bending.base-conventions")
    alias(libs.plugins.fabric.loom)
}

application {
    mainClass = "me.moros.codegen.Generators"
}

repositories {
    maven("https://maven.fabricmc.net/")
}

dependencies {
    minecraft(libs.fabric.minecraft)
    mappings(loom.officialMojangMappings())
    implementation(libs.javapoet)
}

tasks {
    getByName<JavaExec>("run") {
        args = listOf(
            rootProject.projectDir.resolve("api/src/autogenerated/java").absolutePath,
            libs.versions.minecraft.get()
        )
    }
}
